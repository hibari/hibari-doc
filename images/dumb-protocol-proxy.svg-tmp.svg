<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1"
 viewBox="0 0 600 229"
 xmlns="http://www.w3.org/2000/svg" shape-rendering="crispEdges"
 stroke-width="1" text-rendering="geometricPrecision">
<polygon fill="white" points="9,18 89,18 89,27 9,27"/>
<text x="50" y="27" textLength="79" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Dumb Protocol
</text>
<polygon fill="white" points="33,29 65,29 65,38 33,38"/>
<text x="50" y="38" textLength="31" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Client
</text>
<polygon fill="white" points="109,18 189,18 189,27 109,27"/>
<text x="150" y="27" textLength="79" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Dumb Protocol
</text>
<polygon fill="white" points="131,29 167,29 167,38 131,38"/>
<text x="150" y="38" textLength="35" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Server
</text>
<polygon fill="white" points="217,7 281,7 281,16 217,16"/>
<text x="250" y="16" textLength="63" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Hibari client
</text>
<polygon fill="white" points="203,18 295,18 295,27 203,27"/>
<text x="250" y="27" textLength="91" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

(proxy/consistent
</text>
<polygon fill="white" points="208,29 290,29 290,38 208,38"/>
<text x="250" y="38" textLength="81" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

hashing router)
</text>
<polygon fill="white" points="328,18 370,18 370,27 328,27"/>
<text x="350" y="27" textLength="41" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Chain 1
</text>
<polygon fill="white" points="329,29 369,29 369,38 329,38"/>
<text x="350" y="38" textLength="38" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Brick X
</text>
<polygon fill="white" points="428,18 470,18 470,27 428,27"/>
<text x="450" y="27" textLength="41" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Chain 2
</text>
<polygon fill="white" points="429,29 469,29 469,38 429,38"/>
<text x="450" y="38" textLength="38" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Brick Y
</text>
<polygon fill="white" points="527,18 571,18 571,27 527,27"/>
<text x="550" y="27" textLength="43" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Chain N
</text>
<polygon fill="white" points="530,29 568,29 568,38 530,38"/>
<text x="550" y="38" textLength="37" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

Brick Z
</text>
<line x1="50" y1="44" x2="50" y2="72" stroke="black"/>
<line x1="150" y1="44" x2="150" y2="72" stroke="black"/>
<line x1="250" y1="44" x2="250" y2="72" stroke="black"/>
<line x1="350" y1="44" x2="350" y2="72" stroke="black"/>
<line x1="450" y1="44" x2="450" y2="72" stroke="black"/>
<line x1="550" y1="44" x2="550" y2="72" stroke="black"/>
<line x1="50" y1="55" x2="150" y2="55" stroke="black"/>
<line x1="150" y1="55" x2="140" y2="61" stroke="black"/>
<polygon fill="white" points="66,45 133,45 133,54 66,54"/>
<text x="67" y="54" textLength="65" font-family="Helvetica" font-size="12" fill="black">
Dumb query
</text>
<line x1="50" y1="72" x2="50" y2="100" stroke="black"/>
<line x1="150" y1="72" x2="150" y2="100" stroke="black"/>
<line x1="250" y1="72" x2="250" y2="100" stroke="black"/>
<line x1="350" y1="72" x2="350" y2="100" stroke="black"/>
<line x1="450" y1="72" x2="450" y2="100" stroke="black"/>
<line x1="550" y1="72" x2="550" y2="100" stroke="black"/>
<line x1="150" y1="83" x2="250" y2="83" stroke="black"/>
<polygon fill="black" points="250,83 240,89 240,77"/>
<polygon fill="white" points="161,73 238,73 238,82 161,82"/>
<text x="162" y="82" textLength="75" font-family="Helvetica" font-size="12" fill="black">
Hibari API call
</text>
<line x1="50" y1="100" x2="50" y2="117" stroke="black"/>
<line x1="150" y1="100" x2="150" y2="117" stroke="black"/>
<line x1="250" y1="100" x2="250" y2="117" stroke="black"/>
<line x1="350" y1="100" x2="350" y2="117" stroke="black"/>
<line x1="450" y1="100" x2="450" y2="117" stroke="black"/>
<line x1="550" y1="100" x2="550" y2="117" stroke="black"/>
<line x1="25" y1="105" x2="575" y2="105" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="white" points="105,101 494,101 494,110 105,110"/>
<text x="106" y="110" textLength="387" font-family="Helvetica" font-size="12" fill="black">
Proxy calculates the {Table,Key,OpList} -&gt; Chain mapping, e.g. Chain #2
</text>
<line x1="50" y1="117" x2="50" y2="145" stroke="black"/>
<line x1="150" y1="117" x2="150" y2="145" stroke="black"/>
<line x1="250" y1="117" x2="250" y2="145" stroke="black"/>
<line x1="350" y1="117" x2="350" y2="145" stroke="black"/>
<line x1="450" y1="117" x2="450" y2="145" stroke="black"/>
<line x1="550" y1="117" x2="550" y2="145" stroke="black"/>
<line x1="250" y1="128" x2="450" y2="128" stroke="black"/>
<line x1="450" y1="128" x2="440" y2="134" stroke="black"/>
<polygon fill="white" points="316,118 383,118 383,127 316,127"/>
<text x="317" y="127" textLength="65" font-family="Helvetica" font-size="12" fill="black">
Hibari query
</text>
<line x1="50" y1="145" x2="50" y2="173" stroke="black"/>
<line x1="150" y1="145" x2="150" y2="173" stroke="black"/>
<line x1="250" y1="145" x2="250" y2="173" stroke="black"/>
<line x1="350" y1="145" x2="350" y2="173" stroke="black"/>
<line x1="450" y1="145" x2="450" y2="173" stroke="black"/>
<line x1="550" y1="145" x2="550" y2="173" stroke="black"/>
<line x1="450" y1="156" x2="250" y2="156" stroke="black"/>
<line x1="250" y1="156" x2="260" y2="162" stroke="black"/>
<polygon fill="white" points="318,146 381,146 381,155 318,155"/>
<text x="319" y="155" textLength="61" font-family="Helvetica" font-size="12" fill="black">
Hibari reply
</text>
<line x1="50" y1="173" x2="50" y2="201" stroke="black"/>
<line x1="150" y1="173" x2="150" y2="201" stroke="black"/>
<line x1="250" y1="173" x2="250" y2="201" stroke="black"/>
<line x1="350" y1="173" x2="350" y2="201" stroke="black"/>
<line x1="450" y1="173" x2="450" y2="201" stroke="black"/>
<line x1="550" y1="173" x2="550" y2="201" stroke="black"/>
<line x1="250" y1="184" x2="150" y2="184" stroke="black"/>
<polygon fill="black" points="150,184 160,190 160,178"/>
<polygon fill="white" points="154,174 245,174 245,183 154,183"/>
<text x="155" y="183" textLength="89" font-family="Helvetica" font-size="12" fill="black">
Hibari API return
</text>
<line x1="50" y1="201" x2="50" y2="229" stroke="black"/>
<line x1="150" y1="201" x2="150" y2="229" stroke="black"/>
<line x1="250" y1="201" x2="250" y2="229" stroke="black"/>
<line x1="350" y1="201" x2="350" y2="229" stroke="black"/>
<line x1="450" y1="201" x2="450" y2="229" stroke="black"/>
<line x1="550" y1="201" x2="550" y2="229" stroke="black"/>
<line x1="150" y1="212" x2="50" y2="212" stroke="black"/>
<line x1="50" y1="212" x2="60" y2="218" stroke="black"/>
<polygon fill="white" points="68,202 131,202 131,211 68,211"/>
<text x="69" y="211" textLength="61" font-family="Helvetica" font-size="12" fill="black">
Dumb reply
</text>
<line x1="50" y1="223" x2="50" y2="229" stroke="black"/>
<line x1="150" y1="223" x2="150" y2="229" stroke="black"/>
<line x1="250" y1="223" x2="250" y2="229" stroke="black"/>
<line x1="350" y1="223" x2="350" y2="229" stroke="black"/>
<line x1="450" y1="223" x2="450" y2="229" stroke="black"/>
<line x1="550" y1="223" x2="550" y2="229" stroke="black"/>
</svg>
